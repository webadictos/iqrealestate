(()=>{"use strict";var e,a={318:(e,a,l)=>{const t=window.wp.blocks,o=window.React,n=(window.wp.i18n,window.wp.blockEditor),c=window.wp.components,i=window.wp.element,r=window.wp.apiFetch;var s=l.n(r);const p=window.wp.url,_=JSON.parse('{"UU":"wa-blocks-core/wa-places"}');(0,t.registerBlockType)(_.UU,{attributes:{selectedContent:{type:"object",default:null},searchTerm:{type:"string",default:""}},getEditWrapperProps:e=>({"data-place-id":"bar","data-place-latitude":"bar","data-place-longitude":"bar"}),edit:function({attributes:e,setAttributes:a}){const[l,t]=(0,i.useState)(!1),[r,_]=(0,i.useState)(e.selectedContent||null),[d,f]=(0,i.useState)(e.searchTerm||""),[m,u]=(0,i.useState)(!1),[w,b]=(0,i.useState)([]),v=()=>{t(!1)};(0,i.useEffect)((()=>{d&&(async()=>{u(!0);try{const e=await s()({path:`/wp/v2/fp_location?search=${encodeURIComponent(d)}`});b(e)}catch(e){console.error("Error fetching search results:",e)}finally{u(!1)}})()}),[d]);const E=(0,n.useBlockProps)({"data-place-id":`${r&&void 0!==r.id?r.id:0}`,"data-place-latitude":`${r&&void 0!==r.cmb2.fp_location_fields.fp_location_geolocalizacion.latitude?r.cmb2.fp_location_fields.fp_location_geolocalizacion.latitude:0}`,"data-place-longitude":`${r&&void 0!==r.cmb2.fp_location_fields.fp_location_geolocalizacion.longitude?r.cmb2.fp_location_fields.fp_location_geolocalizacion.longitude:0}`});return(0,o.createElement)("div",{...E},r&&(0,o.createElement)("div",{className:"wa-place-item"},(0,o.createElement)("h3",{className:"wa-place-item__item--title"},r.title.rendered),(0,o.createElement)("ul",{className:"wa-place-item__info"},r.cmb2.fp_location_fields.fp_location_direccion?(0,o.createElement)("li",null,(0,o.createElement)("span",{className:"wa-place-item__info--label"},"Dirección:")," ",(0,o.createElement)("span",{className:"wa-place-item__info--value"},r.cmb2.fp_location_fields.fp_location_direccion)):null,r.cmb2.fp_location_fields.fp_location_telefono?(0,o.createElement)("li",null,(0,o.createElement)("span",{className:"wa-place-item__info--label"},"Teléfono:")," ",(0,o.createElement)("span",{className:"wa-place-item__info--value"},r.cmb2.fp_location_fields.fp_location_telefono)):null,r.cmb2.fp_location_fields.fp_location_web||(0,p.isURL)(r.cmb2.fp_location_fields.fp_location_web)?(0,o.createElement)("li",null,(0,o.createElement)("span",{className:"wa-place-item__info--label"},"Sitio Web:")," ",(0,o.createElement)("span",{className:"wa-place-item__info--value"},(0,o.createElement)("a",{href:r.cmb2.fp_location_fields.fp_location_web,target:"_blank",rel:"noopener"},(0,p.getAuthority)(r.cmb2.fp_location_fields.fp_location_web)))):null,r.cmb2.fp_location_fields.fp_location_social_networks?(0,o.createElement)("li",{className:"wa-place-item__social-networks"},(0,o.createElement)("span",{className:"wa-place-item__info--label"},"Redes sociales:")," ",r.cmb2.fp_location_fields.fp_location_social_networks.map(((e,a)=>(0,o.createElement)(o.Fragment,null,(0,o.createElement)("a",{className:`wa-place-item__info--value wa-place-item__social--${e.social}`,href:e.url,target:"_blank",rel:"noopener",key:a},(0,p.getPath)(e.url).replace(/\/$/,""))," ")))):null)),(0,o.createElement)(c.Button,{onClick:()=>{t(!0),f(""),b([])}},r?"Cambiar lugar":"Seleccionar lugar"),l&&(0,o.createElement)(c.Modal,{title:"Seleccionar lugar",onRequestClose:v},(0,o.createElement)(c.TextControl,{value:d,onChange:e=>{f(e)},placeholder:"Introduce un término de búsqueda"}),m?(0,o.createElement)(c.Spinner,null):(0,o.createElement)("ul",null,w.map((e=>(0,o.createElement)("li",{key:e.id},(0,o.createElement)(c.Button,{onClick:()=>{return _(l=e),v(),a({selectedContent:l}),void console.log(l);var l}},e.title.rendered)))))))}})}},l={};function t(e){var o=l[e];if(void 0!==o)return o.exports;var n=l[e]={exports:{}};return a[e](n,n.exports,t),n.exports}t.m=a,e=[],t.O=(a,l,o,n)=>{if(!l){var c=1/0;for(p=0;p<e.length;p++){for(var[l,o,n]=e[p],i=!0,r=0;r<l.length;r++)(!1&n||c>=n)&&Object.keys(t.O).every((e=>t.O[e](l[r])))?l.splice(r--,1):(i=!1,n<c&&(c=n));if(i){e.splice(p--,1);var s=o();void 0!==s&&(a=s)}}return a}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[l,o,n]},t.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},t.d=(e,a)=>{for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={7516:0,5108:0};t.O.j=a=>0===e[a];var a=(a,l)=>{var o,n,[c,i,r]=l,s=0;if(c.some((a=>0!==e[a]))){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(r)var p=r(t)}for(a&&a(l);s<c.length;s++)n=c[s],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(p)},l=globalThis.webpackChunkwa_blocks_core=globalThis.webpackChunkwa_blocks_core||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))})();var o=t.O(void 0,[5108],(()=>t(318)));o=t.O(o)})();